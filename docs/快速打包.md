# 快速打包指南

## 立即打包

```powershell
# 1. 检查准备情况
powershell -ExecutionPolicy Bypass -File .\scripts\prepare-package.ps1

# 2. 打包（生成安装程序和ZIP）
npm run package
```

打包完成后，文件在 `release/` 目录。

## 完整流程

```powershell
# 清理旧文件
npm run clean

# 编译 TypeScript
npm run build

# 重新编译 native 模块
npx electron-rebuild

# 检查准备
powershell -ExecutionPolicy Bypass -File .\scripts\prepare-package.ps1

# 打包
npm run package
```

## 输出文件

```
release/
├── LLExtTool Setup 1.0.0.exe    # 安装程序 (~150MB 压缩后)
└── LLExtTool-1.0.0-win.zip      # 绿色版 (~200MB 压缩后)
```

## 快速命令

| 命令 | 说明 |
|------|------|
| `npm run package` | 完整打包（NSIS + ZIP）|
| `npm run package:win` | 仅打包 Windows 版本 |
| `npm run package:dir` | 解压版（测试用）|

## 注意事项

1. **首次打包需要下载依赖**，可能需要几分钟
2. **翻译功能**需要先构建 CTranslate2 和下载模型
3. **图标文件**需要放置在 `assets/icon.ico`
4. **打包体积**约 150-200MB（压缩后）

## 发布版本

```powershell
# 更新版本号
npm version 1.0.1

# 重新打包
npm run clean
npm run build
npx electron-rebuild
npm run package

# 测试安装包
.\release\LLExtTool Setup 1.0.1.exe
```
